<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Налаштування поведінки в'юпорта -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <title>Task 1</title>
</head>

<body>
    <h1>Task 1</h1>

    <br>
    <p>
        При розв’язанні задач намагайтесь використовувати відповідні методи (map, filter, reduce,…) всюди, де це можливо
    </p>
    <br>
    <p>
        Задача. Дано історію цін на цінні папери за деякий період (згенерувати від 1 до 10000)
    </p>

    <script> let counter = 0;
        //1.Вводимо необхідні дані
        let questionForUser = parseInt(prompt('Введите количество акций:', '5'))
        function getRandomNumb(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min
        }
        let newArrWithRandomPrice = new Array(questionForUser).fill(0).map(that => getRandomNumb(1, 10000))
        console.log(newArrWithRandomPrice);
        //2.Знаходимо результат
        //1)Сформувати новий масив, у якому є тільки ті, що більші за 1000 грн.
        let getFirstMassive = newArrWithRandomPrice.filter(that => that > 1000)
        document.write(`<br>1) Массив, в котором цена бумаг больше 1000: ${getFirstMassive.join(', ')} `)

        //2)Сформувати новий масив, у якому є номери тільки тих, що більші за 1000 грн.
        let getSecondMassive = newArrWithRandomPrice.reduce((index, item, arr) => {
            if (item > 1000) {
                return [...index, arr]
            }
            return index
        }, [])
        document.write(`<br>2) Массив, в котором номера бумаг больше 1000: ${getSecondMassive.join(', ')}`)
        //3)Сформувати список з тих цін, які більші за попереднє значення
        let getThirdMassive = newArrWithRandomPrice.reduce((accumulator, item, index, arr) => {
            if (item > arr[index - 1]) {
                return [...accumulator, item]
            }
            return accumulator
        }, []
        )
        document.write(`<br>3) Список цен, больших за предыдущее значение: ${getThirdMassive.join(', ')}`)
        //4)Сформувати новий масив, що міститиме значення цін у відсотках стосовно максимального
        let newArrayMax = newArrWithRandomPrice.reduce((maxValue, item) => (maxValue > item ? maxValue : item))
        let arrayProcent = newArrWithRandomPrice.map(that => Math.round((that - 100) / newArrayMax))
        //console.log(arrayProcent);
        //7 Визначати, чи усі ціни більше за 1000
        let getSevenMassive = newArrWithRandomPrice.every(item => item > 1000)
        if (getSevenMassive == true) {
            document.write(`<br>7) В массиве присутствуют бумаги меньше чем 1000.`)
        }
        else document.write('<br>7)В массиве нет бумаг меньше чем 1000.');
        //3.Виводимо результа

    </script>
</body>

</html>